<!DOCTYPE html>
<html lang="zh-CN">
<head>
        <title>Frey's blog : sublime_Text3插入当前时间</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="https://www.vhcffh.com/theme/css/main.css" type="text/css" />
        <link href="https://www.vhcffh.com/" type="application/atom+xml" rel="alternate" title="Frey's blog ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.vhcffh.com/css/ie.css"/>
                <script src="https://www.vhcffh.com/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://www.vhcffh.com/css/ie6.css"/><![endif]-->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-111205240-1"></script>
    <script>
        gtag('config', 'UA-111205240-1');
    </script>

</head>

<body>
        
<header>
    <h1><a href="https://www.vhcffh.com/sublime_text3cha-ru-dang-qian-shi-jian.html" id="page-title">sublime_Text3插入当前时间</a></h1>
    <span id="sitename"><a href="https://www.vhcffh.com" id="site-title">Frey's blog </a> &sdot;</span>
<time datetime="2017-12-21T10:01:00+08:00">2017-12-21</time></header>
<article>
    <h1>1.创建新snippet</h1>
<p>tool → new snippet 创建一个新的snippet,并保存为”author.sublime-snippet”(最好在该目录(User)下再创建一个MySnippet目录):<br>
其内容:  </p>
<div class="highlight"><pre><span></span><span class="nt">&lt;snippet&gt;</span>
<span class="nt">&lt;content&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">/**</span>
<span class="cp"> * ============================</span>
<span class="cp"> * @Author:   XX</span>
<span class="cp"> * @Version:  1.0 </span>
<span class="cp"> * @DateTime: ${1:alt+t}</span>
<span class="cp"> * ============================</span>
<span class="cp"> */</span>
<span class="cp">]]&gt;</span><span class="nt">&lt;/content&gt;</span>
    <span class="c">&lt;!-- Optional: Set a tabTrigger to define how to trigger the snippet --&gt;</span>
    <span class="nt">&lt;tabTrigger&gt;</span>author<span class="nt">&lt;/tabTrigger&gt;</span>
    <span class="c">&lt;!-- Optional: Set a scope to limit where the snippet will trigger --&gt;</span>
    <span class="c">&lt;!-- &lt;scope&gt;source.python&lt;/scope&gt; --&gt;</span>
<span class="nt">&lt;/snippet&gt;</span>
</pre></div>


<h1>2.创建新插件</h1>
<p>Tools → New Plugin. 创建时间插件,保存在User目录,命名为addCurrentTime.py:
其内容为:  </p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sublime</span><span class="o">,</span> <span class="nn">sublime_plugin</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="k">class</span> <span class="nc">AddCurrentTimeCommand</span><span class="p">(</span><span class="n">sublime_plugin</span><span class="o">.</span><span class="n">TextCommand</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">edit</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">run_command</span><span class="p">(</span><span class="s2">&quot;insert_snippet&quot;</span><span class="p">,</span> 
            <span class="p">{</span>
                <span class="s2">&quot;contents&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span> 
            <span class="p">}</span>
        <span class="p">)</span>
</pre></div>


<h1>3.绑定快捷键</h1>
<p>Preference → Key Bindings → User.绑定快捷键:  </p>
<div class="highlight"><pre><span></span>[
    {
        &quot;command&quot;: &quot;add_current_time&quot;,
        &quot;keys&quot;: [
            &quot;alt+t&quot;
        ]
    }
]
</pre></div>


<p>其中绑定的命令的名字是由所创建的插件的类名而来<br>
AddCurrentTimeCommand—&gt;add_current_time<br>
这应该是Sublime创建插件的规则  </p>
<h1>参考资料</h1>
<p>1,<a href="http://www.cnblogs.com/xiaomingzaixian/p/6984664.html">http://www.cnblogs.com/xiaomingzaixian/p/6984664.html</a>
2,<a href="http://blog.csdn.net/sshfl_csdn/article/details/46415551">http://blog.csdn.net/sshfl_csdn/article/details/46415551</a></p>
</article>



</body>
</html>