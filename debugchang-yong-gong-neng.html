<!DOCTYPE html>
<html lang="en">
<head>
        <title>Frey's blog : DEBUG常用功能</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="https://vhcffh.com/theme/css/main.css" type="text/css" />
        <link href="https://vhcffh.com/" type="application/atom+xml" rel="alternate" title="Frey's blog ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://vhcffh.com/css/ie.css"/>
                <script src="https://vhcffh.com/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://vhcffh.com/css/ie6.css"/><![endif]-->

</head>

<body>
        
<header>
    <h1><a href="https://vhcffh.com/debugchang-yong-gong-neng.html" id="page-title">DEBUG常用功能</a></h1>
    <span id="sitename"><a href="https://vhcffh.com" id="site-title">Frey's blog </a> &sdot;</span>
<time datetime="2018-02-12T10:01:00+08:00">2018-02-12</time></header>
<article>
    <h1>1.安装</h1>
<p>window 10中好像已经没有了Debug的调试工具，需要下载另外的软件</p>
<p>下载安装DOSBox.百度云下载地址：(DOSBOX)[https://pan.baidu.com/s/1cC3cuy]<br>
下载后先安装DOSBox0.74-win32-installer.exe<br>
然后找到文件dos-box0.74.conf(C:\Users\username\AppData\Local\DOSBox)<br>
添加两行  </p>
<div class="highlight"><pre><span></span>MOUNT C E:\DEBUG                  # 将目录E:\DEBUG挂载为DOSBOX下的C:  
<span class="k">set</span> <span class="nv">PATH</span><span class="p">=</span>$PATH$;E:\DEBUG          # 将E:\DEBUG写入环境变量PATH中
</pre></div>


<p>并将下载的MASM.exe,LINK.exe,debug.exe三个文件放入目录E:\DEBUG<br>
打开软件，输入<code>c:</code>就可以使用debug命令了  </p>
<h1>2.常用命令:</h1>
<p>R命令：查看改变CPU寄存器的内容<br>
D命令：查看内存中的内容<br>
E命令：改写内存中的内容<br>
U命令：将内存中的机器指令翻译成汇编指令<br>
T命令：执行一条机器指令<br>
A命令：以汇编指令的格式在内存中写入一条机器指令<br>
Q命令：退出DEBUG调试  </p>
<h1>3.命令具体使用实例</h1>
<h2>3.1R命令:</h2>
<p>R命令：查看改变CPU寄存器的内容  </p>
<div class="highlight"><pre><span></span>-r                          ;显示寄存器的值
-r reg                      ;改变寄存器reg的值
</pre></div>


<p><img src="/images/2018/2_12_R命令.PNG"></p>
<h1>3.2D命令:</h1>
<p>D命令：查看内存中的内容<br>
默认显示128字节的内容  </p>
<div class="highlight"><pre><span></span>-d                          ;默认地址
-d 段地址:偏移地址            ;指定地址
-d 段地址:偏一偏二            ;两个地址间的内容
</pre></div>


<p><img src="/images/2018/2_12_D命令.PNG"></p>
<h1>3.3E命令:</h1>
<p>E命令：改写内存中的内容  </p>
<div class="highlight"><pre><span></span>-e 起始地址 数据 数据 ...   
-e 起始地址
</pre></div>


<p><img src="/images/2018/2_12_E命令.PNG"></p>
<h1>3.4U命令:</h1>
<p>U命令：将内存中的机器指令翻译成汇编指令<br>
与D命令有些类似<br>
<img src="/images/2018/2_12_U命令.PNG"></p>
<h1>3.5T命令:</h1>
<p>T命令：执行内存中的一条机器指令<br>
指令位置由cs:ip确定<br>
<img src="/images/2018/2_12_T命令.PNG"></p>
<h1>3.6A命令:</h1>
<p>A命令：以汇编指令的格式在内存中写入一条机器指令<br>
<img src="/images/2018/2_12_A命令.PNG"></p>
</article>

</body>
</html>