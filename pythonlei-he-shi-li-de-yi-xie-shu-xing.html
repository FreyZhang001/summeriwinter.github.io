<!DOCTYPE html>
<html lang="en">
<head>
        <title>Frey's blog : python类和实例的一些属性</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="https://summeriwinter.github.io/theme/css/main.css" type="text/css" />
        <link href="https://summeriwinter.github.io/" type="application/atom+xml" rel="alternate" title="Frey's blog ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://summeriwinter.github.io/css/ie.css"/>
                <script src="https://summeriwinter.github.io/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://summeriwinter.github.io/css/ie6.css"/><![endif]-->

</head>

<body>
        
<header>
    <h1><a href="https://summeriwinter.github.io/pythonlei-he-shi-li-de-yi-xie-shu-xing.html" id="page-title">python类和实例的一些属性</a></h1>
    <span id="sitename"><a href="https://summeriwinter.github.io" id="site-title">Frey's blog </a> &sdot;</span>
<time datetime="2018-05-17T10:01:00+08:00">2018-05-17</time></header>
<article>
    <h1>1,self和__init__()</h1>
<p>self代表类的实例,如下：</p>
<div class="highlight"><pre><span></span><span class="kr">class</span> <span class="nx">Test</span>:
    <span class="kt">a</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="s1">&#39;classa&#39;</span><span class="p">,</span><span class="s1">&#39;classb&#39;</span><span class="err">#类的属性</span>
    <span class="nx">def</span> <span class="nx">__init__</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">b</span><span class="o">=</span><span class="s1">&#39;selfb&#39;</span><span class="err">#实例的属性</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">c</span><span class="o">=</span><span class="s1">&#39;selfc&#39;</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">Test</span><span class="p">.</span><span class="nx">a</span><span class="p">)</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">Test</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span>
<span class="err">#</span><span class="o">-</span><span class="nx">output</span>:<span class="kt">classa</span> <span class="nx">classb</span><span class="o">-</span><span class="err">访问类的属性</span>
<span class="nx">a</span><span class="o">=</span><span class="nx">Test</span><span class="p">()</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="p">)</span>
<span class="err">#</span><span class="o">-</span><span class="nx">output</span>:<span class="kt">classa</span><span class="o">-</span><span class="err">通过实例访问类的属性</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span>
<span class="err">#</span><span class="o">-</span><span class="nx">output</span>:<span class="kt">selfb</span><span class="o">-</span><span class="err">当实例和类都具有某属性时</span><span class="p">,</span><span class="err">输出实例属性</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">c</span><span class="p">)</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">Test</span><span class="p">.</span><span class="nx">c</span><span class="p">)</span>
<span class="err">#</span><span class="nx">output</span>
</pre></div>


<p>当实例和类有相同的属性时，如何通过实例访问类的属性呢？
可以通过__class__访问</p>
<h1>2,<strong>class</strong></h1>
<p>__class__是指实例所对应的类</p>
<div class="highlight"><pre><span></span><span class="err">#</span> <span class="o">-*-</span> <span class="nx">coding</span>: <span class="kt">utf</span><span class="o">-</span><span class="mi">8</span> <span class="o">-*-</span>
<span class="kr">class</span> <span class="nx">Test</span>:
    <span class="kt">a</span><span class="o">=</span><span class="s1">&#39;classa&#39;</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">count</span><span class="p">)</span>
    <span class="nx">def</span> <span class="nx">__init__</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="s1">&#39;selfa&#39;</span>
        <span class="nx">print</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span>
        <span class="err">#</span><span class="o">-</span><span class="nx">output</span><span class="o">:&lt;</span><span class="nx">__main__</span><span class="p">.</span><span class="nx">Test</span> <span class="nx">object</span> <span class="nx">at</span> <span class="mh">0x055A1270</span><span class="o">&gt;</span>
        <span class="nx">print</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">__class__</span><span class="p">)</span>
        <span class="err">#</span><span class="o">-</span><span class="nx">output</span><span class="o">:&lt;</span><span class="kr">class</span> <span class="s1">&#39;__main__.Test&#39;</span><span class="o">&gt;</span>
<span class="nx">a</span><span class="o">=</span><span class="nx">Test</span><span class="p">()</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;实例a&#39;</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span>
<span class="err">#</span><span class="o">-</span><span class="nx">output</span><span class="o">:&lt;</span><span class="nx">__main__</span><span class="p">.</span><span class="nx">Test</span> <span class="nx">object</span> <span class="nx">at</span> <span class="mh">0x055A1270</span><span class="o">&gt;</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;类Test&#39;</span><span class="p">,</span><span class="nx">Test</span><span class="p">)</span>
<span class="err">#</span><span class="o">-</span><span class="nx">output</span><span class="o">:&lt;</span><span class="kr">class</span> <span class="s1">&#39;__main__.Test&#39;</span><span class="o">&gt;</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">__class__</span><span class="p">.</span><span class="nx">a</span><span class="p">)</span>
<span class="err">#</span><span class="o">-</span><span class="nx">output</span>:<span class="kt">selfa</span> <span class="nx">classa</span>
</pre></div>


<p>通过__init__()可以实现对类的实例的统计</p>
<div class="highlight"><pre><span></span><span class="err">#</span> <span class="o">-*-</span> <span class="nx">coding</span>: <span class="kt">utf</span><span class="o">-</span><span class="mi">8</span> <span class="o">-*-</span>
<span class="kr">class</span> <span class="nx">Test</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">count</span><span class="o">=</span><span class="mi">0</span>
    <span class="nx">def</span> <span class="nx">__init__</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="kr">super</span><span class="p">(</span><span class="nx">Test</span><span class="p">,</span> <span class="nx">self</span><span class="p">).</span><span class="nx">__init__</span><span class="p">()</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">__class__</span><span class="p">.</span><span class="nx">count</span><span class="o">+=</span><span class="mi">1</span>
<span class="k">if</span> <span class="nx">__name__</span><span class="o">==</span><span class="s2">&quot;__main__&quot;</span><span class="o">:</span>
    <span class="nx">a</span><span class="o">=</span><span class="nx">Test</span><span class="p">()</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">Test</span><span class="p">.</span><span class="nx">count</span><span class="p">)</span>
    <span class="nx">b</span><span class="o">=</span><span class="nx">Test</span><span class="p">()</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">Test</span><span class="p">.</span><span class="nx">count</span><span class="p">)</span>
    <span class="nx">Test</span><span class="p">()</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">Test</span><span class="p">.</span><span class="nx">count</span><span class="p">)</span>
</pre></div>


<p>输出为</p>
<div class="highlight"><pre><span></span>1
2
3
</pre></div>


<p>每创建一个Test类的实例,Test.count都加1</p>
<h1>3,<strong>dict</strong></h1>
<p><strong>dict__是一个字典，键是属性名，值为属性值。
类有自己的__dict</strong>，类的实例也有自己的__dict__</p>
<div class="highlight"><pre><span></span><span class="err">#</span> <span class="o">-*-</span> <span class="nx">coding</span>: <span class="kt">utf</span><span class="o">-</span><span class="mi">8</span> <span class="o">-*-</span>
<span class="kr">class</span> <span class="nx">Test</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">classa</span><span class="o">=</span><span class="s1">&#39;classa&#39;</span>
    <span class="nx">def</span> <span class="nx">__init__</span><span class="p">(</span><span class="nx">self</span><span class="p">)</span><span class="o">:</span>
        <span class="kr">super</span><span class="p">(</span><span class="nx">Test</span><span class="p">,</span> <span class="nx">self</span><span class="p">).</span><span class="nx">__init__</span><span class="p">()</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">selfb</span><span class="o">=</span><span class="s1">&#39;selfb&#39;</span>
<span class="k">if</span> <span class="nx">__name__</span><span class="o">==</span><span class="s2">&quot;__main__&quot;</span><span class="o">:</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">Test</span><span class="p">.</span><span class="nx">__dict__</span><span class="p">)</span>
    <span class="nx">a</span><span class="o">=</span><span class="nx">Test</span><span class="p">()</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">Test</span><span class="p">.</span><span class="nx">__dict__</span><span class="p">)</span>
</pre></div>


<p>输出为</p>
<div class="highlight"><pre><span></span>{&#39;__module__&#39;: &#39;__main__&#39;, &#39;classa&#39;: &#39;classa&#39;, &#39;__init__&#39;: &lt;function Test.__init__ at 0x04D03468&gt;, &#39;__dict__&#39;: &lt;attribute &#39;__dict__&#39; of &#39;Test&#39; objects&gt;, &#39;__weakref__&#39;: &lt;attribute &#39;__weakref__&#39; of &#39;Test&#39; objects&gt;, &#39;__doc__&#39;: None}
{&#39;selfb&#39;: &#39;selfb&#39;}
</pre></div>


<p>可见类Test有classa属性以及一些其他属性
类Test的实例a只有selfb属性
2018-05-23 14:54:58</p>
<h1>参考资料</h1>
<p>1,<a href="https://docs.python.org/">https://docs.python.org</a></p>
</article>

</body>
</html>